model {
  for(i in 1:n) {
    y[i] ~ dnorm(mu[i], tau)
    mu[i] <- b0 + b1*x[i] + a[grp[i]]
  }
  
  for(j in 1:ngrp) {
    a[j] ~ dnorm(0, tau_a)
  }
  
  tau <- pow(sig, -2)
  sig ~ dunif(0, 10)
  b0 ~ dnorm(0, 0.001)
  b1 ~ dnorm(0, 0.001)
  
  tau_a <- pow(sig_a, -2)
  sig_a ~ dunif(0, 10)
}